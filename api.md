API

к програмному комплексу

«ВМР Портал»

1. ЗАПИТИ ДО ДИНАМІЧНОЇ ІНФОРМАЦІЇ

До динамічної інформації відноситься наступні запити:

1. Новини

2. Анонси подій

3. Оповіщення/попередження

Для отримання списку новин виконується запит наступного виду:
```
    GET
    https://{host}/api/news
    ```
    В результаті виконання запиту буде повернута відповідь наступного вигляду:
    ```
    Content-Type: application/json 
    [ 
        { 
            "title": "",
            "description": "",
            "content":"",
            "published_at": "",
            "tags": [ 
                "",
                … 
                        "" 
            ],
            "link": "", 
            "picture": ""
        },
        … 
    ]
    ```
    Опис полів відповіді представлені в табл. 1.1.

    Таблиця 1.1 – Опис параметрів відповіді при запиті нови
    
    Поле | Опис
    :--- | :---
    title | Заголовок новини
    description | Короткий опис новини
    content | Текст новини
    published_at | Дата публікації
    tags | Теги новини
    link | Посилання на новину на сайті
    picture | Фото новини(посилання)

    Для отримання анонсів подій виконується запит наступного виду:
    ```
    GET 
    https://{host}/api/event_announcements
    ```

    В результаті виконання запиту буде повернута відповідь наступного вигляду:

    ---

    ```
    Content-Type: application/json 
    [ 
        { 
            "title": "",
            "description": "",
            "content": "",
            "published_at": "", 
            "tags": [ 
                "", 
                …, 
                "" 
            ], 
            "link": "", 
            "startdate": "", 
            "enddate": "", 
            "picture": "", 
            "address_type": "", 
            "address_name": "", 
            "address_building": "", 
            "registration_link": "" 
        }, 
        … 
    ]
    ```

    Опис полів відповіді представлені в табл. 1.2.

    Таблиця 1.2 – Опис параметрів відповіді при запиті анонсів подій

    Поле | Опис
    :--- | :---
    title | Заголовок анонсу
    description | Короткий опис анонсу
    content | Текст анонсу
    published_at | Дата публікації
    tags | Теги анонсу
    link | Посилання на анонс на сайті
    startdate | Дата початку
    enddate | Дата завершення
    picture | Фото анонсу(посилання)
    address_type | Тип вулиці  
    address_name | Адреса
    address_building | Номер будинку
    registration_link | Посилання на реєстрацію

    Для отримання оповіщень виконується запит наступного виду:

    ```
    GET 
    https://{host}/api/notifications
    ```

    В результаті виконання запиту буде повернута відповідь наступного вигляду:

    ---

    ```
    Content-Type: application/json 
    [ 
        { 
            "title": "", 
            "description": "", 
            "content": "", 
            "category": "", 
            "link": "", 
            "picture": "" 
          }, 
        … 
    ]
    ```

    Опис полів відповіді представлені в табл. 1.3.

    Таблиця 1.3 – Опис параметрів відповіді при запиті оповіщень

    Поле | Опис
    :--- | :---
    title | Заголовок оповіщення
    description | Короткий опис оповіщення
    content Текст оповіщення
    category Категорія оповіщення
    link Посилання на оповіщення на сайті
    picture Фото оповіщення

---

2. ЗАПИТИ ДО СТАТИЧНОЇ ІНФОРМАЦІЇ

    До статичної інформації відноситься наступні запити:

    1. Інформація про Міськраду

    2. Інформація про структурні підрозділи

    3. Інформація про ЦНАП

    4. Інформація про територіальні підрозділи та віддалені робочі місця ЦНАП
    5. Інформація про муніципальні та інші заклади

    Для отримання інформацію про Міськраду виконується запит наступного виду:

    ```
    GET 
    https://{host}/api/municipality_info
    ```

    В результаті виконання запиту буде повернута відповідь наступного вигляду:

    ```
    Content-Type: application/json 
    { 
        "name": "", 
        "fullname": "", 
        "address_type": "", 
        "address_name": "", 
        "address_building": "", 
        "phone": ", "email": "", 
        "email_zpi": "", 
        "email_corruption": "", 
        "email_claim": "", 
        "picture": 
        "", "website": "", 
        "facebook": "", 
        "coord": "", 
        "schedule": [
            { 
                "day_of_week": "", 
                "schedule_of_day": [ 
                  "", "","","","" 
                ] 
            }, 
            … 
        ], 
        "position": "", 
        "first_name": "", 
        "second_name": "", 
        "last_name": "", 
        "head_phone": ",
        "head_email": "", 
        "head_photo": "" 
    }
    ```
    ---

    Опис полів відповіді представлені в табл. 2.1.

    Таблиця 2.1 – Опис параметрів відповіді при запиті інформації про Міськраду

    Поле | Опис
    :--- | :---
    name | Коротка назва закладу
    fullname | Повна назва закладу
    address_type | Тип вулиці
    address_name | Назва вулиці
    address_building | Номер будинку
    phone | Контактний телефон міськради
    email | Електронна пошта закладу для звернень
    email_zpi |Електронна пошта закладу для запитів на публічну інформацію,
    email_corruption | Електронна пошта закладу для повідомлень про корупцію
    email_claim | Електронна пошта закладу для для скарг
    picture | Посилання на зображення гербу міста
    website | Посилання на сайт закладу
    facebook | Посилання на facebook закладу
    coord | Координати закладу
    schedule | Розклад закладу, де для кожного дня тижня перше є массив, перше значення якого - 0 або 1 (не робочий/робочий день), друге та третє значення - початок/завершення робочого дня, четверте та п’яте значення - початок завершення перерви
    position | Назва посади
    first_name | Ім’я Голови
    second_name | По батькові Голови
    last_name | Прізвище Голови
    head_phone | Телефон Голови
    head_email | Електронна пошта Голови
    head_photo | Посилання на фото Голови

    Для отримання інформацію про структурні підрозділи виконується запит наступного виду:

    ```
    GET 
    https://{host}/api/subdivisions_info
    ```

    В результаті виконання запиту буде повернута відповідь наступного вигляду:
    
    ---
    ```
    Content-Type: application/json 
    [ 
        { "name": "", 
        "fullname": "", 
        "address_type": "", 
        "unit_id": , 
        "address_name": "", 
        "address_building": "", 
        "phone": ", "email": "", 
        "email_zpi": "", 
        "email_corruption": "", 
        "email_claim": "", 
        "picture": "", 
        "website": "", 
        "facebook": "", 
        "coord": "", 
        "schedule": [ 
            { 
                "day_of_week": "", 
                "schedule_of_day": [ 
                  "", "","","","" 
                  ] 
            }, 
            … 
            ], 
            "position": "", 
            "first_name": "", 
            "second_name": "", 
            "last_name": "", 
            "head_phone": ", 
            "head_email": "", 
            "head_photo": "" 
        }, 
        … 
        ]
    ```

    Опис полів відповіді представлені в табл. 2.2.

    Таблиця 2.2 – Опис параметрів відповіді при запиті інформації про структурні підрозділи

    Поле | Опис
    :--- | :---
    name | Коротка назва закладу
    fullname | Повна назва закладу
    unit_id | id населеного пункту, у якому знаходиться підрозділ
    address_type | Тип вулиці
    address_name | Назва вулиці
    address_building | Номер будинку
    phone | Контактний телефон міськради
    email | Електронна пошта закладу для звернень
    email_zpi | Електронна пошта закладу для запитів на публічну інформацію,
    email_corruption | Електронна пошта закладу для повідомлень про корупцію
    email_claim | Електронна пошта закладу для для скарг
    picture | Посилання на зображення гербу міста
    website | Посилання на сайт закладу   
    facebook | Посилання на facebook закладу
    coord | Координати закладу
    schedule | Розклад закладу, де для кожного дня тижня перше є массив, перше значення якого - 0 або 1 (не робочий/робочий день), друге та третє значення - початок/завершення робочого дня, четверте та п’яте значення - початок завершення перерви
    position | Назва посади
    first_name | Ім’я керівника
    second_name | По батькові керівника
    last_name | Прізвище керівника
    head_phone | Телефон керівника
    head_email | Електронна пошта керівника
    head_photo | Посилання на фото керівника

    Для отримання інформацію про ЦНАП виконується запит наступного виду:

    ```
    GET 
    https://{host}/api/cnap_info
    ```

    В результаті виконання запиту буде повернута відповідь наступного вигляду:

    ---

    ```
    Content-Type: application/json 
    [ 
    { 
        "name": "", 
        "fullname": "", 
        "unit_id": , 
        "address_type": "", 
        "address_name": "", 
        "address_building": "", 
        "phone": ", 
        "email": "", 
        "email_zpi": "", 
        "email_corruption": "", 
        "email_claim": "", 
        "picture": "", 
        "website": "", 
        "facebook": "", 
        "coord": "", 
        "schedule": [ 
            { 
                "day_of_week": "", 
                "schedule_of_day": [ 
                  "", "","","","" 
                ] 
            }, 
            … 
            ], 
            "position": "", 
            "first_name": "", 
            "second_name": "", 
            "last_name": "", 
            "head_phone": ", 
            "head_email": "", 
            "head_photo": "" 
            "services": [] 
            }, 
            … 
            ]
    ```
    Опис полів відповіді представлені в табл. 2.3.
    
    Таблиця 2.3 – Опис параметрів відповіді при запиті інформації про ЦНАП
